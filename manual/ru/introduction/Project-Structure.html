<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Структура проекта- Soft8Soft</title>
    <meta charset="utf-8">
    <meta name="description" content="Описание структуры Verge3D приложений."/>
    <base href="../../../" />
    <script src="list.js"></script>
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css" />
  </head>
  <body><article>

    <h1>Структура проекта</h1>

    <p>
      Verge3D, в соответствии с подходом ориентированным на художников, создает полный набор файлов для приложения WebGL. Рекомендуется не редактировать большинство инициализированных файлов проекта, потому что некоторые из них могут автоматически регенерироваться при определенных действиях пользователя (таких как экспорт, сохранение пазлов и т. д.). Другие могут быть переопределены при обновлении до новых версий Verge3D.
    </p>

    [contents]


    [anchor:Simplest_Case]

    <h2>Простой кейс</h2>

    <p>
      Проект, инициализированный с помощью менеджера приложений (с параметрами конфигурации по умолчанию), выглядит следующим образом.
    </p>

    <img src="files/project-structure/project-structure-simple.jpg">

    <h3>Файлы HTML, CSS и JavaScript</h3>

    <p>
      Ядро приложения состоит из файлов <strong>.html </strong>, <strong>.css </strong> и <strong>.js </strong> с тем же именем ("my_awesome_app") и среды выполнения Verge3D -  <strong> v3d.js </strong>. Также существует папка <strong> media </strong>, которая содержит небольшие изображения (иконки кнопок для полноэкранного режима и набор фавиконов).
    </p>

    <p>
      Хотя это не рекомендуется, но вы можете редактировать основные файлы <strong> .html </strong>, <strong> .css </strong> и <strong> .js </strong>. Однако лучший способ - это создание своих собственных файлов CSS/JavaScript и связывание их с основным <strong>html </strong>. Обязательно восстановите свои изменения после выполнения <a href="manual/ru/introduction/Updating.html">обновления </a>.
    </p>

    <p>
      Если вы попытаетесь запустить приложение Verge3D, просто кликнув по файлу <strong> .html </strong>, то скорее всего, приложение не запустится из-за <a href = "https: //en.wikipedia. .org / wiki / Same-origin_policy "target =" _ blank "> политики безопасности </a>браузера, запрещающей доступ JavaScript к файлам, загруженным не из того же домена. Пожалуйста, всегда используйте менеджер приложений, который использует локальный веб-сервер для запуска ваших приложений.
    </p>

    <h3>Файлы glTF</h3>

    <p>
      При запуске, приложение сначала загружает 3D-сцену в формате <strong> gltf </strong>, который содержит пути к файлам для дальнейшей загрузки двоичной части сцены glTF <strong> (bin) </strong> и внешних текстур. Файлы <strong> gltf </strong> и <strong> bin </strong> экспортируются с помощью меню пользовательского интерфейса вашего любимого 3D-редактора (Blender, 3ds Max или Maya).
    </p>

    <h3>Файлы рабочей сцены</h3>

    <p>
      В зависимости от того, какой 3D-редактор вы используете, будет один файл <strong> .blend </strong>, <strong> .max </strong> или <strong> .mb </strong>, содержащий куб по умолчанию. Именно здесь выполняется большая часть работы над сценами. Не стесняйтесь изменять этот файл, переименовывать или заменять его каким-либо другим файлом, но обязательно сохраните исходное имя экспортированного файла glTF.
    </p>

    <p>
      Вы можете добавить больше файлов сцены в папку приложения для использования их в качестве библиотеки или для приложений с несколькими сценами. Если ваше приложение загружает несколько файлов glTF, не забудьте выполнить экспорт из соответствующих проектов <strong> .blend </strong>, <strong> .max </strong> или <strong> .mb </strong>.
    </p>

    <h3>Ассеты</h3>

    <p>
      Текстуры и звуки обычно загружаются приложением как внешние файлы. Убедитесь, что вы используете <i> относительные </i> пути к файлам в 3D-редакторе для всех изображений. Ваши изображения должны храниться <i> внутри </i> папки проекта, в противном случае могут возникнуть проблемы с публикацией результата.
    </p>

    <h3>Пазлы</h3>

    <p>
      Когда вы нажимаете кнопку<strong> Save </strong> в редакторе пазлов, пазлы приложения сохраняются в <strong> visual_logic.xml </strong>, а сгенерированный код JavaScript сохраняется в <strong> visual_logic.js </strong>. Эти файлы будут перезаписываться каждый раз, когда вы нажимаете кнопку <strong> Save </strong>, при этом предыдущая версия <strong> visual_logic.xml </strong> копируется в папку<strong> v3d_app_data / puzzles_backup </strong>, переименованной с отметкой времени. Поэтому вы всегда можете восстановить свои наработки из этой резервной копии, скопировав файл <strong> .xml </strong> в корень и переименовав его обратно.
    </p>


    [anchor:Advanced_Case]

    <h2>Кейсы посложнее</h2>

    <p>
      Некоторые приложения Verge3D (например, демо-версия Soft8Soft Industrial Robot) могут содержать большое количество дополнительных файлов, которые можно разделить на две категории:
    </p>

    <h3>Сжатые файлы glTF</h3>

    <p>
      Если вы включите <a href="manual/ru/introduction/Asset-compression.html"> сжатие ресурсов </a> для своего приложения (что всегда хорошо), экспортер сначала выполнит экспорт как обычно, а затем создаст сжатую версию файлов glTF. Эти файлы автоматически выбираются приложением вместо стандартного файла glTF. Нет смысла удалять несжатые файлы glTF, даже если они не используются, поскольку они снова могут быть сгенерированы в какой-то будущей операции экспорта.
    </p>

    <h3>Дополнительные файлы сторонних приложений</h3>

    <p>
      Сложные приложения могут использовать шаблоны HTML, разработанные в сторонних программах (например, Webflow или Google Web Designer), в которые приложение Verge3D встраивается с элементом <strong> iframe </strong>. В таких случаях шаблон HTML может быть сохранен в папке приложения без каких-либо изменений, которые будут приняты менеджером приложений. Сложные макеты HTML, в свою очередь, могут включать дополнительные файлы CSS/JavaScript, шрифты или изображения, которые также могут храниться в папке приложения со собственной иерархией.
    </p>

    <img src="files/project-structure/project-structure.jpg">



    <h2>Все еще есть вопросы?</h2>

    <p>Задавайте их на нашем <a href="https://www.soft8soft.com/forums/" target="_blank">форуме</a>!</p>

  </article></body>
</html>
