<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Verge3D для Blender: Прозрачность - Soft8Soft</title>
    <meta charset="utf-8">
    <meta name="description" content="Learn what kinds of transparency can be enabled for Blender materials and used in Verge3D."/>
    <base href="../../../" />
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css" />
  </head>
  <body><article>

    <h1>Прозрачность / Blender</h1>

    <p>
      В этой статье мы покажем вам, как включить прозрачность для Eevee/Cycles и glTF-совместимых материалов в Blender.
    </p>

    [contents]


    [anchor:blended_vs_masked]

    <h2>Blended (смешение) или Masked (обрезка)</h2>

    <p>
      Verge3D, являясь 3D движком, работающим в реальном времени, предлагает два метода работы с прозрачными объектами: alpha blending и alpha clipping (обычно с изображением-маской). Alpha blending позволяет комбинировать полупрозрачный цвет переднего плана с цветом фона, используя альфа-канал в качестве фактора смешивания. Alpha clipping действует по принципу отбрасывания всех пикселей альфа канала меньше заданного порога (по умолчанию 0, но может быть изменено в настройках материала).
    </p>

    <img src="files/transparency-common/blending-vs-clipping.jpg">

    <p>
      Alpha blending дороже, чем  Alpha clipping с точки зрения оптимизации, но обеспечивает мягкие переходы, которые выглядят красивее. Alpha blending также может вызвать артефакты связанные с Z-конфликтом, когда полигоны визуализируются в неправильном порядке. Alpha clipping создает жёсткие края, которые не могут быть сглажены, поэтому лучше всего подходит для визуализации многочисленных небольших предметов (таких как трава или листья деревьев).
    </p>

    [anchor:alpha_add]

    <h2>Additive Composing (также известный как No Depth Writes)</h2>

    <p>
      Verge3D также предлагает специальный режим, для отключения буфера глубины во время рендеринга. Это приводит к отмене сравнения значений глубины пикселей перекрываемых полигонов. Такие полигоны будут визуализированы аддитивным способом, который иногда позволяет избавиться от артефактов альфа-смешения.
    </p>

    <img src="files/transparency-common/no-depth-writes.jpg">

    <p>Чтобы включить данный режим, отключите опцию *Depth Write* расположенную в окне настроек *Verge3D Settings*.</p>

    <img src="files/transparency-blender/depth-write.jpg" class="centered" style="max-width: 294px;">

    [anchor:rendering_order]

    <h2>Порядок рендера (также известный как Z-index)</h2>

    <p>
      Verge3D не выполняет сортировку полигонов внутри объектов, а скорее сортирует объекты между собой. В большинстве случаев это приводит к правильному смешиванию, но иногда может потребоваться принудительно изменить порядок отображения объектов.
    </p>

    <p>
      Чтобы изменить порядок рендера для определённого объекта, внесите изменение в соответствующем числовом поле панели настроек Verge3D. Чем меньше индекс объекта, тем раньше он визуализируется.
    </p>

    <img src="files/transparency-blender/rendering-order.jpg" class="centered" style="max-width: 306px">

    <p>
      Поэтому, если требуется, чтобы прозрачные объекты на фоне которых в сцене присутствует другой объект, отображались корректно, установите любое отрицательное значение для объекта расположенного сзади.
    </p>

    <img src="files/transparency-common/rendering-order-example.jpg">

    [anchor:transparency_eevee]

    <h2>Прозрачность для Материалов Eevee</h2>

    <p>
      Прозрачность для материалов Eevee может быть включена посредством связки нод *Transparent BSDF* и *Mix Shader*. Чтобы регулировать значение альфа-канала, используйте коэффицент в ноде *Mix Shader*, для этого можно подключить ноду value или создать зависимость от ноды *Fresnel* для большей реалистичности.
    </p>

    <img src="files/transparency-blender/eevee-ztransparency.jpg">

    <p>Используйте выпадающий список <strong>Blend Mode</strong>, чтобы выбрать необходимый режим прозрачности.</p>

    <p>Также, для настройки прозрачности, вы можете использовать вход *Alpha* в ноде Principled BSDF.</p>

    <img src="files/transparency-blender/eevee-ztransparency-principled.jpg">

    <p>Чтобы настроить прозрачность материала, на панели *Settings* доступны следующие параметры:</p>

    <ul>
      <li>*Shadow Mode* - режим прозрачности для отбрасываемой тени. На данный момент в Verge3D поддерживаются только режимы *Opaque* и *None*.</li>
      <li>*Clip Threshold* - порог для альфа-обрезки (маски).</li>
      <li>*Show Backface* - позволяет визуализировать тыльную геометрию объектов.</li>
    </ul>

    [anchor:transparency_gltf]

    <h2>Прозрачность для Материалов совместимых с форматом glTF</h2>

    <p>
      Чтобы обеспечить прозрачность для таких материалов, добавьте альфа-маску в альфа-канал текстуры базового цвета. Также вы можете настроить альфа-канал, используя <strong>Alpha</strong> вход в ноде Principled BSDF.
    </p>

    <img src="files/transparency-blender/gltf-PBR-ztransparency.jpg">

    <p>Используйте выпадающий список <strong>Blend Mode</strong>, чтобы выбрать необходимый режим прозрачности.</p>

    <h2>Остались вопросы?</h2>

    <p>Задайте их на нашем <a href="https://www.soft8soft.com/forums/" target="_blank">форуме</a>!</p>

  </article></body>
</html>
