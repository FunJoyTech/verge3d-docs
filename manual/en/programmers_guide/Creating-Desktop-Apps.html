<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Creating Desktop Applications with Electron - Soft8Soft</title>
    <meta charset="utf-8">
    <meta name="description" content="Learn how to use Electron to create cross-platform Verge3D applications for desktop."/>
    <base href="../../../" />
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css" />
    <meta property="og:image" content="https://cdn.soft8soft.com/images/electron.jpg">
    <meta property="article:tag" content="electron">
  </head>
  <body><article>

    <h1>Creating Desktop Applications with Electron</h1>

    <p>
      Electron is a tool which converts web applications to cross-platform desktop applications. Electron can create apps for Windows, macOS (both Intel and Apple Silicon architectures supported), and Linux. The tool is completely free, easy-to-use and allows for advanced customizations with JavaScript (if you need it).
    </p>

    [contents]


    [anchor:getting_electron]

    <h2>Getting Electron</h2>

    <p>
      Electron binaries can be installed with NPM or downloaded from the GitHub repo. To simplify things up, we'll use the later approach in this guide.
    </p>

    <p>
      To get Electron binaries go to the <a href="https://github.com/electron/electron/releases" target="_blank">releases</a> page and download archive with the latest stable (not Beta) version. Since the number of available platforms is huge, use the following memo to get what you really need:
    </p>

    <dl>
      <dt>electron-vX.Y.Z-win32-x64.zip</dt>
      <dd>Windows 7 or later, 64 bit version.</dd>
      <dt>electron-vX.Y.Z-darwin-x64.zip</dt>
      <dd>macOS 10.10 (Yosemite) or later, Intel Macs.</dd>
      <dt>electron-vX.Y.Z-darwin-arm64.zip</dt>
      <dd>macOS 11 (Big Sur) or later, Apple Silicon Macs.</dd>
      <dt>electron-vX.Y.Z-linux-x64.zip</dt>
      <dd>Linux, 64 bit, such as Ubuntu, Fedora, OpenSuse, or Arch.</dd>
    </dl>

    <p>
      Once downloaded, unpack Electron archive to some directory, say *my_awesome_app*.
    </p>


    [anchor:preparing_your_app]

    <h2>Preparing your Application</h2>

    <p>
      Copy your entire app from the *applications* directory inside your Verge3D distribution to the *my_awesome_app/resources* directory (or *electron/Electron.app/Contents/Resources* on macOS) and name it as *app* (app means simply "app", not your application name).
    </p>

    <p>
      Create file named *main.js* (<a href="files/creating-desktop-apps/basic-template/main.js" download>example</a>) in the *app* directory with the following content:
    </p>

    <code>
    const { app, BrowserWindow } = require('electron');

    function createWindow() {
        // create the browser window
        const win = new BrowserWindow({
            width: 800,
            height: 600,
            webPreferences: {
                nodeIntegration: true
            }
        });

        // and load the main file of the app
        win.loadFile('my_awesome_app.html');
    }

    app.whenReady().then(createWindow);
    </code>

    <p>
      Change *my_awesome_app.html* in the *loadFile()* method to the name of the main HTML file of your application.
    </p>

    <p>
      Create file named *package.json* (<a href="files/creating-desktop-apps/basic-template/package.json" download>example</a>) in the *app* directory with the following content:
    </p>

    <code>
    {
      "name": "my_awesome_app",
      "version": "0.1.0",
      "main": "main.js"
    }
    </code>

    <p>
      Change *my_awesome_app* to your app's name, update version info if you need it.
    </p>

    <p>
      Test your application by running *electron.exe* (or *Electron.app* on macOS, or *electron* on Linux) located in the *my_awesome_app* directory.
    </p>

    <img src="files/creating-desktop-apps/electron-new-app.jpg" class="centered" style="max-width: 827px">


    [anchor:beautifying_things]

    <h2>Beautifying Things</h2>


    [anchor:modifying_app_name_icon]

    <h3>Modifying Application Name and Icon</h3>

    <p>
      See the <a href="https://www.electronjs.org/docs/tutorial/application-distribution#rebranding-with-downloaded-binaries" target="_blank">official Electron guide</a> on how to rename your application binary and assign custom icon.
    </p>


    [anchor:customizing_menu]

    <h3>Customizing Menu</h3>

    <p>
      To disable application menu altogether, insert the following line in the *main.js* right after *loadFile()* method:
    </p>

    <code>
      win.removeMenu();
    </code>

    <p>
      To create your own menu, first connect *Menu* module to your application:
    </p>

    <code>
      const { Menu } = require('electron');
    </code>

    <p>
      We're going to use *shell* module to open external website upon menu click. So, add *shell* module here as well:
    </p>

    <code>
      const { shell } = require('electron');
    </code>

    <p>
      Then add the following code to the *main.js* right after *loadFile()* method:
    </p>

    <code>
    var menu = Menu.buildFromTemplate([{
        label: 'Menu',
        submenu: [
            {
                label: 'Soft8Soft Website',
                click() {
                    shell.openExternal('https://www.soft8soft.com');
                }
            },
            {
                label: 'Exit',
                click() {
                    app.quit()
                }
            }
        ]
    }]);
    Menu.setApplicationMenu(menu);
    </code>

    <p>
      See the example of the modified *main.js* file <a href="files/creating-desktop-apps/menu-template/main.js" download>here</a>.
    </p>

    <p>
      Run your application, you should get the following:
    </p>

    <img src="files/creating-desktop-apps/electron-app-with-menu.jpg" class="centered" style="max-width: 800px">


    <h2>Got Questions?</h2>

    <p>Feel free to ask on the <a href="https://www.soft8soft.com/forums/" target="_blank">forums</a>!</p>

  </article></body>
</html>
