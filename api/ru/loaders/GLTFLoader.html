<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css" />
  </head>
  <body>
    [page:Loader] &rarr;
    <h1>[name]</h1>

    <div class="desc">
    Загрузчик для ресурсов *glTF* 2.0.
    <br /><br />
    <a href="https://www.khronos.org/gltf">glTF</a> (GL Transmission Format) - это 
    <a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0">спецификация открытого формата</a>
    для эффективной доставки и загрузки 3D-контента. Ассеты могут предоставляться как в формате JSON (.gltf), так и в бинарном формате (.glb). Внешние файлы хранят текстуры (.jpg, .png, ...) и дополнительные двоичные данные (.bin). Ассет glTF может предоставлять одну или несколько сцен, включая сетки, материалы, текстуры, скины, скелеты, morph-targets, анимацию, свет и/или камеры.
    </div>

    <h2>Расширения</h2>

    <div>
    GLTFLoader поддерживает следующие расширения glTF:
    </div>

    <ul>
      <li>S8S_v3d_animation_data</li>
      <li>S8S_v3d_data</li>
      <li>S8S_v3d_camera_data</li>
      <li>S8S_v3d_material_data</li>
      <li>S8S_v3d_mesh_data</li>
      <li>S8S_v3d_node_data</li>
      <li>S8S_v3d_scene_data</li>
      <li>S8S_v3d_texture_data</li>
    </ul>

    <h2>Пример</h2>

    <code>
    // Instantiate a loader
    var loader = new v3d.GLTFLoader();

    // Load a glTF resource
    loader.load('models/gltf/duck/duck.gltf', function(gltf) {
      scene.add(gltf.scene);

      gltf.animations; // Array&lt;v3d.AnimationClip&gt;
      gltf.scene;      // v3d.Scene
      gltf.scenes;     // Array&lt;v3d.Scene&gt;
      gltf.cameras;    // Array&lt;v3d.Camera&gt;
    });
    </code>

    [example:webgl_loader_gltf]

    <h2>Конструктор</h2>

    <h3>[name]([page:LoadingManager manager])</h3>
    <div>
    [page:LoadingManager manager] — [page:LoadingManager loadingManager] для использования загрузчиком. По умолчанию [page:LoadingManager v3d.DefaultLoadingManager].
    </div>
    <div>
    Создает новый [name].
    </div>

    <h2>Свойства</h2>


    <h2>Методы</h2>

    <h3>[method:null load]([page:String url], [page:Function onLoad], [page:Function onProgress], [page:Function onError])</h3>
    <div>
    [page:String url] — необходим<br />
    [page:Function onLoad] — Будет вызван после завершения загрузки. Аргументом будет загруженный JSON-отклик, возвращенный из [page:Function parse].<br />
    [page:Function onProgress] — Вызывается во время загрузки. Аргументом будет экземпляр XMLHttpRequest, содержащий байты .[page:Integer total] и .[page:Integer loaded].<br />
    [page:Function onError] — Вызывается при ошибках загрузки.<br />
    </div>
    <div>
    Начните загрузку из url и вызовите функцию обратного вызова с разобранным содержимым отклика.
    </div>

    <h3>[method:null setPath]([page:String path])</h3>
    <div>
    [page:String path] — Базовый путь для загрузки дополнительных ресурсов, например, текстур и данных .bin.
    </div>
    <div>
    Установите базовый путь для дополнительных ресурсов.
    </div>

    <h3>[method:null setCrossOrigin]([page:String value])</h3>
    <div>
    [page:String value] — Строка crossOrigin для выполнения CORS для загрузки url из другого домена, который разрешает CORS.
    </div>

    <h3>[method:null parse]([page:Object json], [page:Function callBack], [page:String path])</h3>
    <div>
    [page:Object json] — <em>JSON</em> объект для парсинга.<br />
    [page:Function callBack] — Будет вызван после завершения парсинга.<br />
    [page:String path] — Базовый путь, по которому можно найти последующие ресурсы glTF, такие как текстуры и файлы данных .bin.<br />
    </div>
    <div>
    Разберите структуры <em>JSON</em> на основе glTF и выполните [page:Function callback] по завершении. Аргументом [page:Function callback] будет [page:object], содержащий загруженные части: .[page:Scene scene], .[page:Array scenes], .[page:Array cameras] и .[page:Array animations].
    </div>

    [sourceHint]
  </body>
</html>
